<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yangyang.dao.UserDao">
 <select id="findByAccount" resultType="com.yangyang.entity.User">
  SELECT user_id user_account,user_name,user_password,user_token,user_image
 ,user_sex,create_time
 from user
  where user_account = #{userAcount}
 </select>

 <insert id="createUser" useGeneratedKeys="true" keyColumn="user_id"
         keyProperty="userId">
  INSERT INTO
 user(user_account,user_name,user_password,user_token,user_image,user_sex,
 create_time)
VALUES
 (#{userAccount},#{userName},#{userPassword},#{userToken},#{userImage},
 #{userSex},#{createTime})
 </insert>


 <select id="queryUser" resultType="com.yangyang.entity.User">
 SELECT user_id user_account,user_name,user_password,user_token,user_image
 ,user_sex,create_time
 FROM user
 ORDER BY user_id DESC
 </select>

 <update id="updateUser" parameterType="com.yangyang.entity.User">
  update user
  <set>
   <if test="userToken != null"> user_token=#{userToken},</if>
   <if test="userImage != null"> user_image=#{userImage},</if>
  </set>
  where user_id = #{userId}
 </update>



</mapper>